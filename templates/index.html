<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Directory</title>
  <link rel="icon" type="image/png" href="data:image/png;base64,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"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="static/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
  <div class="container text-center">
  <header>
    <div class="jumbotron">
      <h1>Directory</h1>
      <p>A simple web app with basic CRUD functionality written in Python Flask.</p>
    </div>
  </header>
  
    {%for person in persons %}
      <div class="edit_form text-left" id="form_{{person[0]}}">
        <form id="personInputForm" role="form" method="POST" action="/submit/{{person[0]}}" data-toggle="validator">
        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="firstname" class="control-label">First Name</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control" id="firstname" name="firstname" value="{{person[1]}}" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="lastname" class="control-label">Last Name</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control" id="lastname" name="lastname" value="{{person[2]}}" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="birthdate" class="control-label">Date of Birth</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control datepicker" id="birthdate_edit" name="birthdate_edit" value="{{person[3]}}" bootstrap-datepicker data-date-end-date="0d" data-date-orientation="auto" required/>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="zip" class="control-label">Zipcode</label>
          <div class="right-inner-addon">
            <input type="text" pattern="^\d{5}$" class="form-control" id="zip" name="zip" value="{{person[4]}}" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="text-right">
        <button type="button" id="form_cancel_{{person[0]}}" class="btn btn-danger"/>Cancel</button>
        <button type="submit" class="btn btn-primary" id="form_submit" />Edit</button>
        </div>
      </form>
    </div>

    <div class="panel panel-default text-left" id="panel_{{person[0]}}">
      <div class="panel-heading">
        <h4>
        {{person[1]}} {{person[2]}}
        <a href="delete/{{person[0]}}" class="delete_btn pull-right"><span class="glyphicon glyphicon-trash" aria-hidden="true">Delete</span></a>
        <a id="edit_{{person[0]}}" class="edit_btn pull-right"><span class="glyphicon glyphicon glyphicon-edit" aria-hidden="true"></span> Edit</a>
        </h4>
      </div>
      <div class="panel-body">
        <strong><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> Date of birth:</strong> {{person[3]}} <br/>
        <strong><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> Zipcode:</strong> {{person[4]}}
      </div>
    </div>
    {% endfor %}

    <a class="btn" id="add_btn"><span class="glyphicon glyphicon-plus"></span> Add a person</a>
    <div class="edit_form text-left" id="form_add">
      <form id="personInputForm" role="form" method="POST" action="/submit" data-toggle="validator">
        
        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="firstname" class="control-label">First Name</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control" id="firstname" name="firstname" placeholder="" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="lastname" class="control-label">Last Name</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control" id="lastname" name="lastname" placeholder="" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="birthdate" class="control-label">Date of Birth</label>
          <div class="right-inner-addon">
            <input type="text" class="form-control datepicker" id="birthdate_add" name="birthdate_add" bootstrap-datepicker data-date-end-date="0d" data-date-orientation="auto" required/>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-sm-12">
          <label for="zip" class="control-label">Zipcode</label>
          <div class="right-inner-addon">
            <input type="text" pattern="^\d{5}$" class="form-control" id="zip" name="zip" placeholder="" required>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="text-right">
        <button type="button" id="form_cancel" class="btn btn-danger"/>Cancel</button>
        <button type="submit" class="btn btn-primary" id="form_submit" />Add</button>
        </div>
      </form>
    </div>

  </div>
  



  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="static/js/bootstrap-datepicker.min.js"></script>
  <script src="static/js/validator.js"></script>
  <script>
  $(document).ready(function(){

    // $(function() {
    //   $('.datepicker').datepicker();
    // });
    $('#birthdate_edit, #birthdate_add').datepicker({
      format: "yyyy-mm-dd",
      startView: "decade"
    });

    {%for person in persons %}   
      $('#edit_'+{{person[0]}}).click(function() {
        $('#form_'+ {{person[0]}}).slideToggle(1000);
        $('#panel_'+ {{person[0]}}).slideToggle(1000);
      });
      $('#form_cancel_'+{{person[0]}}).click(function() {
        $('#form_'+ {{person[0]}}).slideToggle(1000);
        $('#panel_'+ {{person[0]}}).slideToggle(1000);
      });
    {% endfor %}

    $('#add_btn').click(function() {
      $('#add_btn').hide();
      $('#form_add').slideDown();
    });
    $('#form_cancel').click(function() {
      $('#form_add').slideUp();
      $('#add_btn').show();
    });
    
  });
</script>

</body>
</html>